﻿@using Kartverket.Register.Helpers
@model IEnumerable<Kartverket.Register.Models.Register>

@{
    ViewBag.Title = "Registrene";
}

    <div class="page-header">
        <h2 class="h-md">Registrene</h2>
        <hr>
    </div>


    <table class="table">
        <tr>
            <th>
                Navn
            </th>
            <th>
                Innhold
            </th>
            <th>
                Eier
            </th>
            @*<th>
                Status
            </th>*@
        </tr>
        <tr>
            <td>
                <strong><a href="@Html.ObjektkatalogUrl()">Objektregisteret</a></strong>
            </td>
            <td>
                Inneholder en samling av sentrale objektkataloger fra SOSI, Inspire og fra parter i Norge digitalt. Her finnes dataspesifikasjoner som er nyttige ved fremstilling av datasett, eller som dokumentasjon av hvordan innholdet og strukturen i et datasett skal tolkes.
            </td>
            <td></td>

        </tr>

        @foreach (var item in Model)
        {
            if (item.parentRegisterId == null)
            {

                <tr>
                    <td>
                        <strong><a href="/register/@item.seoname">@item.name</a></strong>
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.description)
                    </td>

                    <td title="Eier: @item.owner.name">
                        @if (item.owner == null)
                        {
                            <span>Ikke angitt</span>
                        }
                        else
                        {
                            @Html.DisplayFor(modelItem => item.owner.name)
                        }
                    </td>
                    @*<td>
                        @if (item.statusId == null)
                        {
                            <span>Ikke angitt</span>
                        }
                        else
                        {
                            @Html.DisplayFor(modelItem => item.status.description)
                        }
                    </td>*@

                </tr>
            }
        }


    </table>
<hr/>
<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

    @if (Request.IsAuthenticated)
    { 
        if (Html.IsGeonorgeAdmin(System.Security.Claims.ClaimsPrincipal.Current.Claims))
        {
            <a class ="btn btn-default pull-right"href="/ny">Nytt register</a>
        }
    }
</div>

